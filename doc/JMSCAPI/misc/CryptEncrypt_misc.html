<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="ru">
<head>
<!-- Generated by javadoc (version 1.7.0_03) on Sun Apr 29 01:09:42 MAGT 2012 -->
<title>CryptEncrypt_misc</title>
<meta name="date" content="2012-04-29">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CryptEncrypt_misc";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CryptEncrypt_misc.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../JMSCAPI/misc/CryptDuplicateHash_misc.html" title="interface in JMSCAPI.misc"><span class="strong">Prev Class</span></a></li>
<li><a href="../../JMSCAPI/misc/CryptEnumProviders_misc.html" title="interface in JMSCAPI.misc"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?JMSCAPI/misc/CryptEncrypt_misc.html" target="_top">Frames</a></li>
<li><a href="CryptEncrypt_misc.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">JMSCAPI.misc</div>
<h2 title="Interface CryptEncrypt_misc" class="title">Interface CryptEncrypt_misc</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="strong">CryptEncrypt_misc</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../JMSCAPI/misc/CryptEncrypt_misc.html#error_codes">error_codes</a></strong></code>
<div class="block">The error codes prefaced by NTE are generated by the particular CSP being used.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../JMSCAPI/misc/CryptEncrypt_misc.html#remarks">remarks</a></strong></code>
<div class="block"><b>Remarks</b>
 
 If a large amount of data is to be encrypted, it can be done in sections by calling
 <b>CryptEncrypt</b> repeatedly.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="remarks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remarks</h4>
<pre>static final&nbsp;java.lang.String remarks</pre>
<div class="block"><b>Remarks</b><p>
 
 If a large amount of data is to be encrypted, it can be done in sections by calling
 <b>CryptEncrypt</b> repeatedly. The <code>Final</code> parameter must be set to <b>TRUE</b>
 on the last call to <b>CryptEncrypt</b>, so that the encryption engine can properly finish
 the encryption process. The following extra actions are performed when <code>Final</code>
 is <b>TRUE</b>:
 <ul>
 <li>If the key is a block cipher key, the data is padded to a multiple of the block size
 of the cipher. If the data length equals the block size of the cipher, one additional block
 of padding is appended to the data. To find the block size of a cipher, use <a href="../../JMSCAPI/Advapi32.html#CryptGetKeyParam(JMSCAPI.misc.JMSCAPI_misc.HCRYPTKEY, int, com.sun.jna.Pointer, com.sun.jna.ptr.IntByReference, int)"><code>CryptGetKeyParam</code></a> to get the <b>KP_BLOCKLEN</b> value of the key.</li>
 <li>If the cipher is operating in a chaining mode, the next <b>CryptEncrypt</b> operation
 resets the cipher's feedback register to the <b>KP_IV</b> value of the key.</li>
 <li>If the cipher is a stream cipher, the next <b>CryptEncrypt</b> resets the cipher to
 its initial state.</li>
 </ul>
 There is no way to set the cipher's feedback register to the <b>KP_IV</b> value of the key
 without setting the <code>Final</code> parameter to <b>TRUE</b>. If this is necessary, as
 in the case where you do not want to add an additional padding block or change the size of
 each block, you can simulate this by creating a duplicate of the original key by using the
 <b>CryptDuplicateKey</b> function, and passing the duplicate key to the <b>CryptEncrypt</b>
 function. This causes the <b>KP_IV</b> of the original key to be placed in the duplicate key.
 After you create or import the original key, you cannot use the original key for encryption
 because the feedback register of the key will be changed. The following pseudocode shows how
 this can be done.
 <code><pre>
        // Set the IV for the original key. Do not use the original key for 
        // encryption or decryption after doing this because the key's 
        // feedback register will get modified and you cannot change it.
        CryptSetKeyParam(hOriginalKey, KP_IV, newIV)

        while(block = NextBlock())
        {
                // Create a duplicate of the original key. This causes the 
                // original key's IV to be copied into the duplicate key's 
                // feedback register.
                hDuplicateKey = CryptDuplicateKey(hOriginalKey)

                // Encrypt the block with the duplicate key.
                CryptEncrypt(hDuplicateKey, block)

                // Destroy the duplicate key. Its feedback register has been 
                // modified by the CryptEncrypt function, so it cannot be used
                // again. It will be re-duplicated in the next iteration of the 
                // loop.
                CryptDestroyKey(hDuplicateKey)
        }
 </pre></code>
 The Microsoft Enhanced Cryptographic Provider supports direct encryption with RSA public
 keys and decryption with RSA private keys. The encryption uses <b>PKCS #1</b> padding. On
 decryption, this padding is verified. The length of plaintext data that can be encrypted
 with a call to <b>CryptEncrypt</b> with an RSA key is the length of the key modulus minus
 eleven bytes. The eleven bytes is the chosen minimum for <b>PKCS #1</b> padding. The
 ciphertext is returned in little-endian format.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#JMSCAPI.misc.CryptEncrypt_misc.remarks">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="error_codes">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>error_codes</h4>
<pre>static final&nbsp;java.lang.String error_codes</pre>
<div class="block">The error codes prefaced by NTE are generated by the particular CSP being used.
 Some possible error codes returned by <b>GetLastError()</b>:
                                                                                                                                                                                                                </p><table><tr>
<td>ERROR_INVALID_HANDLE</td>                   <td>One of the parameters specifies a handle that is
                                                                                        not valid.                                                                                                      </td></tr><tr>

<td>ERROR_INVALID_PARAMETER = 87</td>   <td>One of the parameters contains a value that is not
                                                                                valid. This is most often a pointer that is not valid.                  </td></tr><tr>
 
<td>NTE_BAD_ALGID</td>                          <td>The <code>hKey</code> session key specifies an
                                                                                        algorithm that this CSP does not support.                                                       </td></tr><tr>

<td>NTE_BAD_DATA</td>                                   <td>The data to be encrypted is not valid. For example,
                                                                                        when a block cipher is used and the <code>Final</code>
                                                                                        flag is <b>FALSE</b>, the value specified by
                                                                                        <code>pdwDataLen</code> must be a multiple of the
                                                                                         block size.                                                                                            </td></tr><tr>

<td>NTE_BAD_FLAGS</td>                          <td>The <code>dwFlags</code> parameter is nonzero.                              </td></tr><tr>

<td>NTE_BAD_HASH</td>                                   <td>The <code>hHash</code> parameter contains a handle
                                                                                        that is not valid.                                                                                              </td></tr><tr>

<td>NTE_BAD_HASH_STATE</td>                     <td>An attempt was made to add data to a hash object that
                                                                                        is already marked "finished."                                                           </td></tr><tr>

<td>NTE_BAD_KEY</td>                                    <td>The <code>hKey</code> parameter does not contain a
                                                                                        valid handle to a key.                                                                          </td></tr><tr>

<td>NTE_BAD_LEN</td>                                    <td>The size of the output buffer is too small to hold the
                                                                                        generated ciphertext.                                                                           </td></tr><tr>

<td>NTE_DOUBLE_ENCRYPT</td>                     <td>The application attempted to encrypt the same data
                                                                                        twice.                                                                                                          </td></tr><tr>

<td>NTE_BAD_UID</td>                                    <td>The CSP context that was specified when the key was
                                                                                        created cannot be found.                                                                        </td></tr><tr>

<td>NTE_FAIL</td>                                               <td>The function failed in some unexpected way.                                 </td></tr><tr>

<td>NTE_NO_MEMORY</td>                          <td>The CSP ran out of memory during the operation.                                                     </td></tr>
                                                                                                                                                                                                                </table></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#JMSCAPI.misc.CryptEncrypt_misc.error_codes">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CryptEncrypt_misc.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../JMSCAPI/misc/CryptDuplicateHash_misc.html" title="interface in JMSCAPI.misc"><span class="strong">Prev Class</span></a></li>
<li><a href="../../JMSCAPI/misc/CryptEnumProviders_misc.html" title="interface in JMSCAPI.misc"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?JMSCAPI/misc/CryptEncrypt_misc.html" target="_top">Frames</a></li>
<li><a href="CryptEncrypt_misc.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
